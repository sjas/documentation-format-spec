# documentation format spec

```
## goal of this specification 
## elements this spec uses,used markdown subset,formatting style 
## text layout structure 
## specification used formatting elements (HEADER,TOC,CONTENT) in particular  
## vim shortcuts for easier usage 
```





## goal of this specification ###############################################################################
define ruleset/conventions to: (properties are ordered by importance from most to least)
1. create a framework that can be used for any kind documentation within single files
    - docs (==markdown)
    - code (at least anything that uses # for commenting; minimum bash for now FIXME)
    - configs (==vim must be supported)
2. have a table of contents (TOC) on top
    - to have a highlevel overview what is in the current file
    - created from the main headlines
    - to be able to jump to each chapter by searching for a complete line from the TOC
    - TOC must be autogenerateable through vim scripts for all file types (code,docs,configs)
    - get a content overview via TOC immediately after opening a file (or within a single keystroke)
    - make it navigatable (searching for a TOC line is sufficient to satisfy this)
3. make it as easily copypastable as possible
    - triple-leftclick for selecting whole lines is a must whereever possible
    - click+select multiple lines for pasting bigger snippets must be possible, too
4. make it short
    - use the minimum amount of markup to get readable results
    - least amount of keystrokes wins
    - less typing==more docs&&less RSI
    - least amount of empty lines shall be used
        - for most easiest navigation possible in vim via braces keys
5. make it look good
    - in plaintext
    - markdown: rendered in github et al.

THIS FILE MUST BE WRITTEN IN THE FORMAT IT IS SPECIFING.






## elements this spec uses,used markdown subset,formatting style ############################################
for brevity, used style should adopt an as small a subset as possible should be used from markdown

MARKDOWN
- TOC
- HEADLINES that go into the TOC
- PSEUDOHEADLINES that dont go into the TOC and are not markdown-styled headlines
- bulletpointed&&numbered lists
- codeblocks
- inlined code

OTHER (CODE/CONFIGS)
- TOC
- HEADLINES that go into the TOC
- PSEUDOHEADLINES that dont go into the TOC and are not markdown-styled headlines
- MARKDOWN content-style, prefixed with comment chars is desirable here, too

FORMATTING
- headlines from markdown, that are defined by multiple lines, are strictly forbidden. 
- CAPSLOCK in running text is allowed ofc, as long as its clearly distuishable from PSEUDOHEADLINES
- letter casing may be used where deemed useful, but can usually be omitted to limit the amount of keystrokes
- HEADLINES and line separators shall end in column 109
- lines should not exceed 117 chars (so they can be viewed on half a screen) FIXME
- non-running text before a block/list must usually be a PSEUDOHEADLINE
    - use colons as last char if need be
- 3 empty lines in between elements (running text,lists,codeblocks) within a HEADLINE area






## text layout structure ####################################################################################
HEADER
- containing some kind of content until the first empty line is found:
    - HEADLINE (markdown)
    - shebang (scripts)
    - general code documentation which mustnt be touched (i.e. a disclaimer, could be previously  present content)
- TOC, which is autogenerated from the headlines/comments
- 5 spaces to delimit the HEADER and the first CONTENT

TOC
- either a codeblock (`^```$`-delimited) in MARKDOWN
- or its contents are commented out by the same way as the HEADLINES are done in the rest of the file
- contains just the HEADLINES (not PSEUDOHEADLINES)

CONTENT
- which is (code+)documentation in a structured way
- code interweaved with comments, some of which can be used as headlines to generate a toc from
- prefix for TOC HEADLINES: `^.# ` where the dot can be the char the language/tool uses for delimiting comments
- anything else will not be used for TOC generation






## specification used formatting elements (HEADER,TOC,CONTENT) in particular  ###############################
#### docs
MARKDOWN HEADER
- first line is `# description_of_file_contents`
- second line is always empty
- third and following are either TOC or a dummy that will be deleted during TOC generation
- 5 empty lines follow
- possible random content comes (to have a place to paste new stuff fast if need be integrate later into the structure)

MARKDOWN TOC
- code block (`^```$`-delimited)
- contains all HEADLINES
- stripped of the ` #+`-suffix (including the adjacent space)
- but not the `^## `-prefix, so line-searching for it works as likely as possible

MARKDOWN CONTENT
- TOC HEADLINES
    - are '`^## `'-prefixed
    - suffixed by ' ####' with enough "#"'s until column 109 is reached
        - that way a visual delimiter exist in plaintext
        - while still rendering in markdown as a regular heading
- regular markdown headlines must have 4+ "#"'s or more as prefix
    - but sparingly use these:
        - due to the amount of needed prefix chars (too much too type)
        - if less chars were used, the headlines are too big in the rendered markdown documents
    - use only of you have at least ~3 subparagraphs in HEADLINED section
- PSEUDOHEADLINES are written in CAPSLOCK
    - must be followed by
        - a code block
        - list
        - empty line, if another PSEUDOHEADLINE is needed for structural nesting (or linebreaks vanish when rendered)
- if anything is not part of a block/list and neither written in CAPSLOCK nor plain english sentencing
    - it is to be considered executable code (i.e. `vim /open/this/file` or for entering database cli prompts)
    - must be followed by a code block
        - blocks contain the content which should be done in file/cli
    - this convention exists so stuff is copypastable, even from the plaintext file
- code blocks are of two types
    - `^```$` for any codeblock without a PSEUDOHEADLINE as description (3x `)
    - `^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~$` for codeblocks directly following a PSEUDOHEADLINE (40x ~)
        - annotate with the kind of code written in there if possible,by appending the type to the upper (40x`~`) line
        - so the syntax highlighting will work properly in rendered documents
    - this is to better distinguish headlined codeblocks vs. general codeblocks
    - must be followed by an empty line
- lists
    - are bulletpointed ('`^\t*- `'-prefixed)
        - may be indented
        - indentations must match, so it looks the same in rendered markdown
    - are numbered ('`^\d+ `'-prefixed)
        - FIXME: check wether indentation is having an effect after rendering
        - FIXME: check wether numbering sublevels work (i.e. 1.1 or 1.2.3)
    - must be followed by an empty line
- running text
    - use sparingly
    - if you cant omit it, you have a structural problem with grouping your information
    - is often an indicator that you have too little running code that could be used
    - stuff from text bodies cannot be copypasted via triple-leftclick, which is undesirable
- inlined content can be used but should be done so sparingly for code
    - runnable content cannot be copied by triple-leftclick, which is undesirable
    - can be used in running text ofc
    - can be used for highlighting text
    - should be preferred over single/double apostrophes due to bettter readability after rendering
    - if leading or finishing char is a space, enclose it in single apostrophes to make that obvious

#### code and configs
CODE/CONFIG HEADER
- first lines until empty line are arbitrary and will not be touched during TOC generation
- empty line follows
- either TOC or dummy line with arbitrary content that will be deleted during TOC generation
- 5 empty lines follow

CODE/CONFIG TOC
- contains all HEADLINES, but the suffix and the adjacent space are stripped

CODE/CONFIG CONTENT
- HEADLINEs are different, depending on how single line comments are done (wether with one or two characters)
    - two char(s) starting at `^' followed by a space depict TOC HEADLINES, at least the first char comments out
    - space following the comment chars is important
    - for single char commenting the second char in line is always `#`
    - double char commenting:
        - i.e. '`^// `'-prefixed (C)
    - single char commenting:
        - i.e. '`^## `'-prefixed (bash)
        - i.e. '`^"# `'-prefixed (vimrc)
- besides any other rules apply as with markdown PSEUDOHEADLINES/codeblocks/lists
    - except anything is prefixed by the comment char (which not neccessarily needs to start at `^`)
    - with NO space following the comment characters






## vim shortcuts for easier usage ###########################################################################
vim ~/.vimrc
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~vimrc
"# shortcuts&&keybindings bash&&markdown&&vim formatting ####################################################
"ANY: search current line (for navigation from the 'toc' to paragraph
nnoremap <leader>8 /\V<c-r>=escape(getline('.'),'\')<cr><cr>:noh<cr>zz
"ANY: headline from current line
nnoremap <leader>jl 0i## <esc>$a  <esc>109i#<esc>0109l<esc>d$o<esc>
"ANY: separator line
nnoremap <leader>- O<esc>109i#<esc>o
"ANY: uppercase and spaces inserted
nnoremap <leader>sp VgU:s/./& /g<cr>:s/^# 0 x \(.\) \(.\)   -   /#0x\1\2  -  /i<cr>yy
"ANY: small headline (####)
nnoremap <leader>h 0i#### <esc>o<esc>D

"MARKDOWN: headline from current line after five newlines
nnoremap <leader>jj 0i## <esc>$a  <esc>109i#<esc>0109l<esc>d$O<cr><cr><cr><cr><cr><esc>jj
"MARKDOWN: headline from current line after five newlines plus codeblock
nnoremap <leader>jjk 0i## <esc>$a  <esc>109i#<esc>0109l<esc>d$O<cr><cr><cr><cr><cr><esc>jji```<cr><cr>```<esc>k
"MARKDOWN: code block
nnoremap <leader>c VgUo<esc>40i~<esc>yypO<esc>DkAbash<esc>j
"MARKDOWN: update toc (1 above and 3 empty lines below), and show it. (get back via c-o)
nnoremap <silent> <leader>mt mzgg}d}d/.<cr>O<cr>```<cr><cr><esc>k:redir @y<cr>:g/^## /p<cr>:redir END<cr>gg}}"ypdkdd}i```<cr><cr><cr><cr><cr><esc>kkkkk:noh<cr>gg}V}:s/#\+$//<cr>:noh<cr>'zgg
"old: nnoremap <silent> <leader>mt mzgg}d}d/.<cr>O<cr>```<cr><cr><esc>k:redir @y<cr>:g/^## /p<cr>:redir END<cr>gg}}"ypdkdd}i```<cr><cr><cr><cr><cr><esc>kkkkk:noh<cr>gg}V}:s/^## //<cr>gv<cr>:s/#\+$//<cr>:noh<cr>'zgg

"VIM: update toc (1 above and 3 empty lines below), and show it. (get back via c-o)
nnoremap <silent> <leader>vt mzgg}d}d/.<cr>O<esc>DO<esc>:redir @y<cr>:g/^"# /p<cr>:redir END<cr>gg}"ypdk}i<cr><esc>gg}V}:s/#\+$//<cr>:noh<cr>o<esc>Do<cr><esc>D'zgg
"VIM: headline from current line after five newlines
nnoremap <leader>vj 0i## <esc>$a  <esc>109i#<esc>0109l<esc>d$0r"o<esc>kO<esc>Di<cr><cr><cr><cr><esc>jjx
"VIM: headline from current line
nnoremap <leader>vl 0i## <esc>$a  <esc>109i#<esc>0109l<esc>d$0r"o<esc>x

"BASH: update toc (1 above and 3 empty lines below), and show it. (get back via c-o)
nnoremap <silent> <leader>bt mzgg}d}d/.<cr>O<cr><esc>:redir @y<cr>:g/^## /p<cr>:redir END<cr>gg}"ypdk}i<cr><esc>gg}V}:s/#\+$//<cr>:noh<cr>o<cr><cr><esc>'zgg
"BASH: box with unchanged letter-casing
nnoremap <leader>hl I# <esc>A #<esc>yyPVr#yyjp<cr>
"BASH: box with uppercase content
nnoremap <leader>Hl I# <esc>A #<esc>VgUyyPVr#yyjp<cr>
"BASH: box with spaced uppercase content
nnoremap <leader>HL I# <esc>A #<esc>:s/./&  /g<cr>$xxyyPVr#yyjpPVr 0r#$r#yykkpjjjj:nohl<cr>
"BASH: surrounding lines for current line
nnoremap <leader>ll ddP0O<esc>109i#<esc>yyjpj
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
